<script>
    $(function () {
        $('[data-toggle="tooltip"]').tooltip();

        $("#lnkClockIn").on('click', function (event) {
            event.preventDefault();

            $.ConfirmDialog('You are about to clock out. Your session will end and you will be redirected to the login page. ? Continue?', 'Clock Out Warning', function () {
                $.ajax({
                    url: '/admin/ChangeClockedInStatus/',
                    type: 'POST',
                    dataType: 'json',
                    traditional: true,
                    contentType: 'application/json;',
                    success: function (result) {
                        if (result.length == 0) {

                            //alert('There was an error with clock in/clock out.');
                            $.AlertDialog('There was an error with clock in/clock out.', 'Error Message', function (event) { }, 'lightcoral');
                        } else {
                            window.location.reload();
                        }
                    }
                });

            }, function () {
            }, null, 'lightcoral');

        });


    });
</script>

<ul class="nav navbar-nav nav-pills ">
    <li><a href="/appointments/">Appointments</a></li>
    <li><a href="/customer/">Customers</a></li>
    <li><a href="/transactions/">Transactions</a></li>
    <li><a href="/account/collected/">Payments Collected</a></li>
    <li><a href="/account/MyHours/">My Hours</a></li>

    @{
        if (Context.Session["Associate"] != null)
        {
            var assoc = ((AHDDManagerClass.Associate)Context.Session["Associate"]);
            if (assoc.ClockedIn)
            {
                <li><a href="#" id="lnkClockIn"><img src="~/images/ClockedIn.png" alt="Clocked In" data-toggle='tooltip' data-placement='bottom' title='Currently Clocked In' /></a></li>
            }
            else
            {
                <li><a href="#" id="lnkClockIn"><img src="~/images/ClockedOut.png" alt="Clocked Out" data-toggle='tooltip' data-placement='bottom' title='Currently Clocked Out' /></a></li>

            }
        }
    }

</ul>
<ul class="nav navbar-nav nav-pills pull-right ">


    @{
        if (Context.Session["Associate"] != null)
        {
            var assoc = ((AHDDManagerClass.Associate)Context.Session["Associate"]);
            if (assoc.IsAdmin)
            {
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Admin <span class="caret"></span></a>
                    <ul class="dropdown-menu" aria-labelledby="admin">
                        <li><a href="/admin/ResumeReport">Resume Report</a></li>
                        <li><a href="/admin/TransactionsInfo">Transactions Report</a></li>
                        <li><a href="/admin/PaymentsDetails">Payments Report</a></li>
                        <li><a href="/admin/associates">Associates</a></li>
                        <li><a href="/admin/forms">Forms</a></li>
                        <li><a href="/admin/dailyinvoices">Daily Receipts</a></li>
                        <li><a href="/admin/AssociateHours">Associate Hours</a></li>
                        <li><a href="/admin/payments">Payments by Associates</a></li>
                        <li><a href="/admin/AccountsReceivable">Accounts Receivables</a></li>
                        <li><a href="/admin/refunds">Refunds</a></li>
                        <li><a href="/admin/deletedexpenses">Deleted Expenses</a></li>
                    </ul>
                </li>
            }
        }
    }

    <li><a href="/logout/">Logout</a></li>
    @{
        if (Context.Session["Associate"] != null)
        {
            var assoc = ((AHDDManagerClass.Associate)Context.Session["Associate"]);
            <li>
                <div class="container user-container" style="background-color:white; ">
                    <h4>
                        <a href="/account/associateprofile/">Welcome @assoc.FirstName</a>
                        &nbsp;&nbsp;
                        <span class='dot' style='background-color: @assoc.BackgroundColor'></span>
                        @{
                            if (Context.Session["Associate"] != null)
                            {
                                if (assoc.IsAdmin)
                                {
                                    <text>&nbsp; &nbsp;</text>
                                    <img src="~/images/admin.png" />
                                }
                            }
                        }
                    </h4>
                </div>
            </li>
        }
    }
</ul>
